// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.

/**
 * Unique identifier for actors
 */
export type ActorId = string;

/**
 * Status of an agenda item
 */
export type AgendaItemStatus = "pending" | "ready" | "running" | "completed" | "failed" | "blocked";

/**
 * App definition for dynamic app registration
 */
export type AppDefinition = { id: string, name: string, icon: string, component_code: string, default_width: number, default_height: number, };

/**
 * Request to append an event
 */
export type AppendEvent = { event_type: string, payload: unknown, actor_id: ActorId, user_id: string, };

/**
 * Kinds of artifacts that can be produced
 */
export type ArtifactKind = "report" | "file" | "web_page" | "search_results" | "terminal_output" | "code_snippet" | "json_data" | "other";

/**
 * Status of a capability call
 */
export type CapabilityCallStatus = "pending" | "running" | "completed" | "failed" | "blocked";

/**
 * Chat message for UI display
 */
export type ChatMessage = { id: string, text: string, sender: Sender, timestamp: string, pending: boolean, };

/**
 * Messages that can be sent to ChatActor
 */
export type ChatMsg = { "UserTyped": { text: string, window_id: string, } } | { "AssistantReply": { text: string, model: string, } } | { "ToolCall": { tool: string, args: unknown, call_id: string, } } | { "ToolResult": { call_id: string, status: ToolStatus, output: unknown, } };

/**
 * A single item in the conductor's agenda
 */
export type ConductorAgendaItem = { item_id: string, capability: string, objective: string, priority: number, depends_on: Array<string>, status: AgendaItemStatus, created_at: string, started_at: string | null, completed_at: string | null, };

/**
 * A typed artifact produced during execution
 */
export type ConductorArtifact = { artifact_id: string, kind: ArtifactKind, reference: string, mime_type: string | null, created_at: string, source_call_id: string, metadata: unknown, };

/**
 * A tracked capability call in-flight
 */
export type ConductorCapabilityCall = { call_id: string, capability: string, objective: string, status: CapabilityCallStatus, started_at: string, completed_at: string | null, parent_call_id: string | null, agenda_item_id: string | null, artifact_ids: Array<string>, error: string | null, };

/**
 * A decision made by the conductor
 */
export type ConductorDecision = { decision_id: string, decision_type: DecisionType, reason: string, timestamp: string, affected_agenda_items: Array<string>, new_agenda_items: Array<string>, };

/**
 * Typed error for Conductor task failures
 */
export type ConductorError = { code: string, message: string, failure_kind: FailureKind | null, };

/**
 * Request to execute a Conductor run.
 */
export type ConductorExecuteRequest = { objective: string, desktop_id: string, output_mode: ConductorOutputMode, hints: unknown, };

/**
 * Response from Conductor task execution
 */
export type ConductorExecuteResponse = { run_id: string, status: ConductorRunStatus, document_path: string | null, writer_window_props: WriterWindowProps | null, toast: ConductorToastPayload | null, error: ConductorError | null, };

/**
 * Output mode for Conductor task execution
 */
export type ConductorOutputMode = "auto" | "markdown_report_to_writer" | "toast_with_report_link";

/**
 * Full runtime state for a conductor run
 */
export type ConductorRunState = { run_id: string, objective: string, status: ConductorRunStatus, created_at: string, updated_at: string, completed_at: string | null, 
/**
 * Ordered pending work items
 */
agenda: Array<ConductorAgendaItem>, 
/**
 * In-flight capability calls
 */
active_calls: Array<ConductorCapabilityCall>, 
/**
 * Typed output references
 */
artifacts: Array<ConductorArtifact>, 
/**
 * Typed decisions made during orchestration
 */
decision_log: Array<ConductorDecision>, 
/**
 * Path to the living document (draft.md)
 */
document_path: string, 
/**
 * Output mode for final delivery
 */
output_mode: ConductorOutputMode, 
/**
 * Desktop ID for UI coordination
 */
desktop_id: string, };

/**
 * Status of a conductor run
 */
export type ConductorRunStatus = "initializing" | "running" | "waiting_for_calls" | "completing" | "completed" | "failed" | "blocked";

/**
 * State tracking for a Conductor run via API
 */
export type ConductorRunStatusResponse = { run_id: string, status: ConductorRunStatus, objective: string, desktop_id: string, output_mode: ConductorOutputMode, created_at: string, updated_at: string, completed_at: string | null, document_path: string, report_path: string | null, toast: ConductorToastPayload | null, error: ConductorError | null, };

/**
 * Typed prompt-bar toast payload for Conductor completion.
 */
export type ConductorToastPayload = { title: string, message: string, tone: ConductorToastTone, report_path: string | null, };

/**
 * Visual tone for prompt-bar toast output.
 */
export type ConductorToastTone = "info" | "success" | "warning" | "error";

/**
 * Types of decisions the conductor can make
 */
export type DecisionType = "dispatch" | "retry" | "spawn_followup" | "complete" | "block" | "continue";

/**
 * Desktop state - all windows and their positions
 */
export type DesktopState = { windows: Array<WindowState>, active_window: string | null, apps: Array<AppDefinition>, };

/**
 * Event - append-only log entry
 * All state changes are logged as events
 */
export type Event = { 
/**
 * Global sequence number (strictly increasing)
 */
seq: bigint, 
/**
 * Unique event ID (ULID)
 */
event_id: string, 
/**
 * When the event occurred
 */
timestamp: string, 
/**
 * Which actor produced this event
 */
actor_id: ActorId, 
/**
 * Event type (e.g., "chat.user_msg", "file.write")
 */
event_type: string, 
/**
 * Event-specific payload
 */
payload: unknown, 
/**
 * Which user triggered this (for audit)
 */
user_id: string, };

/**
 * Importance level for events
 */
export type EventImportance = "low" | "normal" | "high";

/**
 * Event lane metadata for conductor/runtime processing.
 */
export type EventLane = "control" | "telemetry";

/**
 * Event metadata for control/telemetry lane separation
 */
export type EventMetadata = { 
/**
 * Control/telemetry lane for this event
 */
lane: EventLane, 
/**
 * Importance level
 */
importance: EventImportance, 
/**
 * Run ID for grouping related work
 */
run_id: string | null, 
/**
 * Capability call ID
 */
call_id: string | null, 
/**
 * Which capability produced this event
 */
capability: string | null, 
/**
 * Execution phase
 */
phase: string | null, };

/**
 * Query events for an actor
 */
export type QueryEvents = { actor_id: ActorId, since_seq: bigint, };

export type Sender = "User" | "Assistant" | "System";

/**
 * Tool call from LLM
 */
export type ToolCall = { id: string, tool: string, args: unknown, };

/**
 * Tool definition for LLM
 */
export type ToolDef = { name: string, description: string, parameters: unknown, };

export type ToolStatus = "Success" | { "Error": string };

export type ViewerCapabilities = { readonly: boolean, };

export type ViewerDescriptor = { kind: ViewerKind, resource: ViewerResource, capabilities: ViewerCapabilities, };

export type ViewerKind = "text" | "image";

export type ViewerResource = { uri: string, mime: string, };

export type ViewerRevision = { rev: bigint, updated_at: string, };

/**
 * Individual window state
 */
export type WindowState = { id: string, app_id: string, title: string, x: number, y: number, width: number, height: number, z_index: number, minimized: boolean, maximized: boolean, props: unknown, };

export type WorkerArtifact = { artifact_id: string, kind: string, reference: string, };

export type WorkerEscalation = { escalation_id: string, kind: WorkerEscalationKind, reason: string, urgency: WorkerEscalationUrgency, options: Array<string>, recommended_option: string | null, requires_human: boolean | null, };

export type WorkerEscalationKind = "blocker" | "help" | "approval" | "conflict";

export type WorkerEscalationUrgency = "low" | "medium" | "high";

export type WorkerFinding = { finding_id: string, claim: string, confidence: number, evidence_refs: Array<string>, novel: boolean | null, };

export type WorkerLearning = { learning_id: string, insight: string, confidence: number, supports: Array<string>, changes_plan: boolean | null, };

export type WorkerSignalRejectReason = "max_per_turn_exceeded" | "low_confidence" | "missing_evidence" | "duplicate_within_window" | "escalation_cooldown" | "invalid_payload";

export type WorkerSignalRejection = { signal_type: WorkerSignalType, signal_id: string, reason: WorkerSignalRejectReason, detail: string, };

export type WorkerSignalType = "finding" | "learning" | "escalation" | "artifact";

export type WorkerTurnReport = { turn_id: string, worker_id: string, task_id: string, worker_role: string | null, status: WorkerTurnStatus, summary: string | null, findings: Array<WorkerFinding>, learnings: Array<WorkerLearning>, escalations: Array<WorkerEscalation>, artifacts: Array<WorkerArtifact>, created_at: string | null, };

export type WorkerTurnReportIngestResult = { accepted_findings: number, accepted_learnings: number, accepted_escalations: number, accepted_artifacts: number, escalation_notified: boolean, rejections: Array<WorkerSignalRejection>, };

export type WorkerTurnStatus = "running" | "completed" | "failed" | "blocked";

/**
 * WebSocket message protocol
 */
export type WsMsg = { "type": "Subscribe", actor_id: ActorId, } | { "type": "Send", actor_id: ActorId, payload: unknown, } | { "type": "Event", actor_id: ActorId, event: Event, } | { "type": "State", actor_id: ActorId, state: unknown, } | { "type": "Error", message: string, };
